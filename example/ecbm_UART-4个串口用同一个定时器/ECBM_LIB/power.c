#include "ecbm_core.h"
#if ECBM_POWER_EN
/*--------------------------------------程序定义-----------------------------------*/
/*程序区折叠专用*************************复位模块******************/#if POWER_RESET_EN
/*-------------------------------------------------------
复位函数，复位之后从main函数开始运行。
-------------------------------------------------------*/
void power_reset_code(void){
	MCU_RESET;
}
/*-------------------------------------------------------
复位函数，复位之后从系统BootLoader开始运行。
-------------------------------------------------------*/
void power_reset_isp(void){
	POWER_RESET;
}
/*程序区折叠专用***************************************************************/#endif
/*程序区折叠专用*************************电源模块***********/#if ECBM_POWER_CONTROL_EN
/*-------------------------------------------------------
掉电函数。
-------------------------------------------------------*/
void power_powerdown(void){
	#if (WKTC_EN&0x8000)	//如果开了唤醒定时器使能。
	WKTCH=(u8)(WKTC_EN>>8); //就给唤醒定时器赋值。
	WKTCL=(u8)(WKTC_EN);
	#endif
	POWER_DOWN;
}
/*-------------------------------------------------------
CPU空闲函数。
-------------------------------------------------------*/
void power_cpu_idle(void){
	POWER_IDLE;
}
/*程序区折叠专用**************************************************************/#endif
/*程序区折叠专用************************看门狗模块******************/#if POWER_WDOG_EN
/*----------------------------
看门狗开启函数
-----------------------------*/
void wdt_start(void){
	WDT_CONTR=WDT_MODE|0x20;
}
/*----------------------------
喂狗函数
-----------------------------*/
void wdt_feed(void){
	WDT_CONTR|=0x10;
}
/*程序区折叠专用**************************************************************/#endif
/*程序区折叠专用**********************复位配置模块***************/#if POWER_RST_CFG_EN
/*-------------------------------------------------------
复位寄存器初始化函数。
-------------------------------------------------------*/
void power_rstcfg_init(void){
	RSTCFG=RST_CFG_MODE;
}
/*程序区折叠专用**************************************************************/#endif
#endif
